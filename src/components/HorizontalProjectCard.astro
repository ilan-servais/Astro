---
import { Image } from 'astro:assets';
import Tags from '@components/ui/Tags.astro';

export interface Props {
  id: string;
  title: string;
  description: string;
  image: any;
  imageAlt?: string;
  tags: string[];
  date?: string;
}

const { id, title, description, image, imageAlt = 'Project image', tags, date } = Astro.props;
---

<div class="project-card group" data-project-id={id}>
  <div class="flex flex-col md:flex-row bg-white dark:bg-darkBg rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition duration-300 ease-in-out">
    <div class="md:w-1/3 bg-gray-100 dark:bg-gray-800 relative">
      <Image 
        src={image} 
        alt={imageAlt} 
        width={400}
        height={300}
        class="w-full h-full object-cover object-center"
      />
      
      {date && (
        <div class="absolute top-2 right-2 bg-orange text-white text-xs font-bold px-2 py-1 rounded-full">
          {date}
        </div>
      )}
    </div>
    
    <div class="md:w-2/3 p-5 relative">
      <h3 class="text-xl font-bold text-orange mb-2">{title}</h3>
      <p class="text-black dark:text-white text-sm mb-4">{description}</p>
      
      <div class="mt-auto">
        <Tags tags={tags} />
      </div>
      
      <button
        class="absolute bottom-4 right-4 bg-black dark:bg-white text-white dark:text-black p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"
        data-modal-trigger
        data-modal-target={`modal-${id}`}
        aria-label={`View ${title} details`}
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
        </svg>
      </button>
    </div>
  </div>
</div>

<style>
  .project-card {
    position: relative;
    margin-bottom: 1.5rem;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .project-card:hover {
    transform: translateX(5px) scale(1.01);
  }
  
  /* Style pour la bordure orange Ã  gauche lors du survol - comme dans Career */
  .project-card:hover::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background-color: #E06330;
    border-top-left-radius: 0.75rem;
    border-bottom-left-radius: 0.75rem;
    z-index: 1;
  }
</style>
